# This file is for setting up the backend with prisma that generates the prisma.graphql file
# EVERY TIME YOU MAKE CHANGES TO THE DATAMODEL=> REDEPLOY ON PRISMA FOR UPDATES TO TAKE HOLD

# ! THIS IS A INTROSPECTED GEN FILE FROM PRISMA NEEDS EDITING
# TODO: Change all entity Ids over to `id: ID!`

type Activity @pgTable(name: "activity") {
  # id: null! @unique @pgColumn(name: "activityid") # Type 'bytea' is not yet supported.
  activityname: String
  activitytypes: [Activitytype!]!
}

# type Activitytype @pgTable(name: "activitytype") {
  activitytypeactivityid: Activity @pgRelation(column: "activitytypeactivityid")
  activitytyperecareaid: Recarea @pgRelation(column: "activitytyperecareaid")
# }

type Profile @pgTable(name: "profile") {
  # id: null! @unique @pgColumn(name: "profileid") # Type 'bytea' is not yet supported.
  profileactivationtoken: String
  profileathandle: String!
  profileemail: String!
  profilehash: String!
  profileimageurl: String
  reviews: [Review!]!
}

type Recarea @pgTable(name: "recarea") {
  # id: null! @unique @pgColumn(name: "recareaid") # Type 'bytea' is not yet supported.
  activitytypes: [Activitytype!]!
  recareadescription: String
  recareadirections: String
  recareaimageurl: String
  recarealat: Float
  recarealong: Float
  recareamapurl: String
  recareaname: String
  reviews: [Review!]!
}

# TODO: Will probably delete, just using as a reference from RIDB api json response
type Recareas @pgTable(name: "recareas") {
  METADATA_RESULTS_CURRENT_COUNT: Int
  METADATA_RESULTS_TOTAL_COUNT: Int
  METADATA_SEARCH_PARAMETERS_LIMIT: Int
  METADATA_SEARCH_PARAMETERS_OFFSET: Int
  METADATA_SEARCH_PARAMETERS_QUERY: Int
  METADATA_SEARCH_PARAMETERS_STATE: String
  RECDATA_ACTIVITY_ActivityID: Int
  RECDATA_ACTIVITY_ActivityName: String
  RECDATA_ACTIVITY_RecAreaActivityDescription: String
  RECDATA_ACTIVITY_RecAreaActivityFeeDescription: Int
  RECDATA_ACTIVITY_RecAreaID: Int
  RECDATA_FACILITY_FacilityID: Int
  RECDATA_FACILITY_FacilityName: String
  RECDATA_FACILITY_ResourceLink: String
  RECDATA_GEOJSON_COORDINATES: Float
  RECDATA_GEOJSON_TYPE: String
  RECDATA_Keywords: String
  RECDATA_LINK_Description: String
  RECDATA_LINK_EntityID: Int
  RECDATA_LINK_EntityLinkID: Int
  RECDATA_LINK_EntityType: String
  RECDATA_LINK_LinkType: String
  RECDATA_LINK_Title: String
  RECDATA_LINK_URL: String
  RECDATA_LastUpdatedDate: DateTime
  RECDATA_MEDIA_Credits: String
  RECDATA_MEDIA_Description: String
  RECDATA_MEDIA_EmbedCode: Int
  RECDATA_MEDIA_EntityID: Int
  RECDATA_MEDIA_EntityMediaID: Int
  RECDATA_MEDIA_EntityType: String
  RECDATA_MEDIA_Height: Int
  RECDATA_MEDIA_MediaType: String
  RECDATA_MEDIA_Subtitle: String
  RECDATA_MEDIA_Title: String
  RECDATA_MEDIA_URL: String
  RECDATA_MEDIA_Width: Int
  RECDATA_ORGANIZATION_LastUpdatedDate: String
  RECDATA_ORGANIZATION_OrgAbbrevName: String
  RECDATA_ORGANIZATION_OrgID: Int
  RECDATA_ORGANIZATION_OrgImageURL: String
  RECDATA_ORGANIZATION_OrgJurisdictionType: String
  RECDATA_ORGANIZATION_OrgName: String
  RECDATA_ORGANIZATION_OrgParentID: Int
  RECDATA_ORGANIZATION_OrgType: String
  RECDATA_ORGANIZATION_OrgURLAddress: String
  RECDATA_ORGANIZATION_OrgURLText: String
  RECDATA_OrgRecAreaID: String
  RECDATA_RECAREAADDRESS_AddressCountryCode: String
  RECDATA_RECAREAADDRESS_AddressStateCode: String
  RECDATA_RECAREAADDRESS_City: String
  RECDATA_RECAREAADDRESS_LastUpdatedDate: DateTime
  RECDATA_RECAREAADDRESS_PostalCode: String
  RECDATA_RECAREAADDRESS_RecAreaAddressID: Int
  RECDATA_RECAREAADDRESS_RecAreaAddressType: String
  RECDATA_RECAREAADDRESS_RecAreaID: Int
  RECDATA_RECAREAADDRESS_RecAreaStreetAddress1: String
  RECDATA_RECAREAADDRESS_RecAreaStreetAddress2: String
  RECDATA_RECAREAADDRESS_RecAreaStreetAddress3: String
  RECDATA_RecAreaDescription: String
  RECDATA_RecAreaDirections: String
  RECDATA_RecAreaEmail: String
  RECDATA_RecAreaFeeDescription: Int
  RECDATA_RecAreaID: Int
  RECDATA_RecAreaLatitude: Float
  RECDATA_RecAreaLongitude: Float
  RECDATA_RecAreaMapURL: String
  RECDATA_RecAreaName: String
  RECDATA_RecAreaPhone: String
  RECDATA_RecAreaReservationURL: String
  RECDATA_StayLimit: Int
}

type Review @pgTable(name: "review") {
  # id: null! @unique @pgColumn(name: "reviewid") # Type 'bytea' is not yet supported.
  reviewcontent: String
  reviewdatetime: DateTime!
  reviewprofileid: Profile @pgRelation(column: "reviewprofileid")
  reviewrating: Int!
  reviewrecareaid: Recarea @pgRelation(column: "reviewrecareaid")
}